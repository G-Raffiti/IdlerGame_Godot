(()=>{const prefersDark=window.matchMedia('(prefers-color-scheme: dark)'),htmlNode=document.documentElement;let currentTheme=RLCONF.wgCurrentTheme||"auto";function _setThemeImpl(actualTarget){try{if(actualTarget!==null){htmlNode.className=htmlNode.className.replace(/ (theme|view|skin-theme-clientpref)-[^\s]+/ig,'');const themeKind={"light":"light","dark":"dark"}[actualTarget]||'unknown',codexKind={"dark":"night","light":"day","unknown":"day"}[themeKind];htmlNode.classList.add('theme-'+actualTarget,`view-${themeKind}`,`skin-theme-clientpref-${codexKind}`);if(currentTheme==='auto'){htmlNode.classList.add('theme-auto');}}}catch(ex){setTimeout(()=>{throw ex;},0);}}function _setFromPCS(){_setThemeImpl(prefersDark.matches?"dark":"light");}window.MwSkinTheme=Object.freeze({LOCAL_THEME_PREFERENCE_KEY:'skin-theme',LOCAL_FEATURE_PREFERENCE_KEY:'skin-theme-features',getCurrent(){return currentTheme;},set(target){currentTheme=target;if(currentTheme==='auto'){_setFromPCS();prefersDark.addEventListener('change',_setFromPCS);
}else{_setThemeImpl(currentTheme);prefersDark.removeEventListener('change',_setFromPCS);}},});if(!RLCONF.wgCurrentTheme){MwSkinTheme.set(localStorage.getItem(MwSkinTheme.LOCAL_THEME_PREFERENCE_KEY)||RLCONF.wgCurrentTheme||"auto");}})();
